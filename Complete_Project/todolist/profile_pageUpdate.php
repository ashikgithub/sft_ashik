<?php 	session_start();	/*require_once 'Model/input.php';*/	spl_autoload_register(function($class){		include "Model/".$class.".php";	});	$user = new input();		if(!$user->getSession() && !$user->getID())	{		header("Location:Log_in.php");		exit;	}	$id= $user->getID();?><?php	$message="";	$fname="";	$lname="";	$email="";	$session="";	$roll="";	$subject="";	$error="";		$result= $user->viewProfile($id);	foreach($result as $row) 	{		$result['fname']   = $row['user_fname'];		$result['lname']   = $row['user_lname'];		$result['email']   = $row['user_email'];		$result['session'] = $row['user_session'];		$result['roll']    = $row['user_roll'];		$result['subject'] = $row['user_subject'];	}	if(isset($_POST['update']))	{		if (!preg_match("/^[a-zA-Z ]*$/",$_POST['fname'])){				$error['fname'] = "Your First Name Must Contain Letters and White Spaces!"; 		}		 if (!preg_match("/^[a-zA-Z ]*$/",$_POST['lname'])){			$error['lname'] = "Your Last Name Must Contain Letters and White Spaces!"; 		 }		 if (!filter_var($_POST['email'], FILTER_VALIDATE_EMAIL)){			$error['email'] = "Invalid email format"; 		 }		 if (!preg_match("/(\d{4})-(\d{4})/",$_POST['session'])){			$error['session'] = "Your Session Must Contain Numbers(4 digits)-Numbers(4 digits)!"; 		 }		 if(!preg_match("/^[1-9][0-9]{0,15}$/",$_POST['roll'] )){			 $error['roll'] = "Your Roll Must Contain Numbers!";		 }		 if(!preg_match("#[A-Za-z]+#",$_POST['subject'])){			 $error['subject'] = "Your subject Must Contain Letters!";		 }		$fname = $_POST['fname'];		$lname = $_POST['lname'];		$email = $_POST['email'];		$session = $_POST['session'];		$roll = $_POST['roll'];		$subject = $_POST['subject'];	}?>	<?php		if(!empty($error))		{			foreach ($error as $single_error)				$message .=$single_error."<br>";		}		$user->setFname($fname);		$user->setLname($lname);		$user->setEmail($email);		$user->setSession($session);		$user->setRoll($roll);		$user->setSubject($subject);		if($user->update($id))		{	?>			<script>alert("updated successfully");</script>	<?php							}	?><?php require('header/profile_header.html');?> 				            <a class = "navbar-brand" href = "#"> Profile </a>			            </div>			            <div class="collapse navbar-collapse" id="navbar-collapse">							<ul class="nav navbar-nav navbar-right">							   <li class="log-form"><a href="log_out.php" ><span class="glyphicon glyphicon-log-out licon"></span>Log Out</a></li>							</ul>						</div>		           </div>		            </nav>			    			</section>			<section>					    <div class="row row-style">				    <!--start Menubar-->				    <div class="col-md-2 col1-style">						<ul class="nav nav-stacked nav-style">							<li class="home"><a href="profile_page.php" class="home-style" >Home</a></li>							<li class="delete"><a href="delete-page.php" class="delete-style" >Delete</a></li>							<li class="create_tdlist"><a href="create_tdl.php" class="create_tdlist-style" >Create ToDo List</a></li>							<li class="edit_tdlist"><a href="edit_todo.php" class="edit_tdlist-style" >Edit ToDo List</a></li>													</ul>					</div>					<!--End Menubar-->					<!--start Middle body-->				<div class="col-md-7 col-md-offset-1 col2-style">                        									<div class="panel panel-primary panel-style">							  <div class="panel-heading ph-style">Welcome User</div>							   <div class="panel-body panel-body-style">							       <div class="alert-danger alert-style">								     <?php if(!empty($message)):?>									   <p><?php echo $message ?></p>									   <?php endif ?>  								   </div>								   <!--start Form-->								   								   <form action="profile_pageUpdate.php" class="form-horizontal" role="form" method="POST">								                                           <div class="form-group has-feedback has-feedback-right">                                           <label class="control-label col-md-3" for="fname">First Name:</label>                                           <div class="col-md-5">                                               <input type="fname" class="form-control" name="fname" placeholder="Enter Your First Name" value="<?php echo "".$result['fname']."" ?>">											   <i class="form-control-feedback glyphicon glyphicon-user"></i>											</div>										</div>										                                        <div class="form-group has-feedback has-feedback-right">										    <label class="control-label col-md-3" for="lname">Last Name:</label>											<div class="col-md-5"> 												<input type="lname" class="form-control" name="lname" placeholder="Enter Your Last Name" value="<?php echo "".$result['lname']."" ?>">												<i class="form-control-feedback glyphicon glyphicon-user"></i>											</div>									   </div>									   <div class="form-group has-feedback has-feedback-right">										    <label class="control-label col-md-3" for="email">Email:</label>											<div class="col-md-5"> 												<input type="email" class="form-control" name="email" placeholder="Enter Your Email" value="<?php echo "".$result['email']."" ?>">												<i class="form-control-feedback glyphicon glyphicon-envelope"></i>											</div>									   </div>									   <div class="form-group has-feedback has-feedback-right">										    <label class="control-label col-md-3" for="session">Session:</label>											<div class="col-md-5"> 												<input type="session" class="form-control" name="session" placeholder="Enter Your Session" value="<?php echo "".$result['session']."" ?>">												<i class="form-control-feedback glyphicon glyphicon-user"></i>											</div>									   </div>									   <div class="form-group has-feedback has-feedback-right">										    <label class="control-label col-md-3" for="roll">Roll:</label>											<div class="col-md-5"> 												<input type="roll" class="form-control" name="roll" placeholder="Enter Your roll" value="<?php echo "".$result['roll']."" ?>">												<i class="form-control-feedback glyphicon glyphicon-user"></i>											</div>									   </div>									   <div class="form-group has-feedback has-feedback-right">										    <label class="control-label col-md-3" for="subject">Subject:</label>											<div class="col-md-5"> 												<input type="subject" class="form-control" name="subject" placeholder="Enter Your Subject Name" value="<?php echo "".$result['subject']."" ?>">												<i class="form-control-feedback glyphicon glyphicon-book"></i>											</div>									   </div>									 									  										<div class="form-group"> 											<div class="col-md-offset-3 col-md-5 btn-style">																						  <button type="submit" class="btn btn-primary btn-lg " name="update">Update</button>											  											</div>																					</div>																			</form>									 									 <!--End Form-->						</div>					</div>				</div>					<!--End Middle body-->			       			</section>	 <?php require('footer/footer.html');?>  